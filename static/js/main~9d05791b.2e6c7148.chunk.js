(this["webpackJsonpant-design-fake"]=this["webpackJsonpant-design-fake"]||[]).push([[42],{2296:function(t,e,n){"use strict";n.d(e,"a",(function(){return z}));var i=n(2),o=n(6),a=n(8),r=n(23),l=n(18);function p(t,e){var n;return i.k(e,(function(e){null!=t[e]&&"auto"!==t[e]&&(n=!0)})),n}var c=["transition","enterFrom","leaveTo"],u=c.concat(["enterAnimation","updateAnimation","leaveAnimation"]);function s(t,e,n){if(n&&(!t[n]&&e[n]&&(t[n]={}),t=t[n],e=e[n]),t&&e)for(var i=n?c:u,o=0;o<i.length;o++){var a=i[o];null==t[a]&&null!=e[a]&&(t[a]=e[a])}}var h=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.preventAutoZ=!0,n}return Object(o.a)(e,t),e.prototype.mergeOption=function(e,n){var i=this.option.elements;this.option.elements=null,t.prototype.mergeOption.call(this,e,n),this.option.elements=i},e.prototype.optionUpdated=function(t,e){var n=this.option,o=(e?n:t).elements,r=n.elements=e?[]:n.elements,c=[];this._flatten(o,c,null);var u=a.q(r,c,"normalMerge"),h=this._elOptionsToUpdate=[];i.k(u,(function(t,e){var n=t.newOption;n&&(h.push(n),function(t,e){var n=t.existing;if(e.id=t.keyInfo.id,!e.type&&n&&(e.type=n.type),null==e.parentId){var i=e.parentOption;i?e.parentId=i.id:n&&(e.parentId=n.parentId)}e.parentOption=null}(t,n),function(t,e,n){var o=i.m({},n),a=t[e],r=n.$action||"merge";"merge"===r?a?(i.I(a,o,!0),Object(l.h)(a,o,{ignoreSize:!0}),Object(l.c)(n,a),s(n,a),s(n,a,"shape"),s(n,a,"style"),s(n,a,"extra"),n.clipPath=a.clipPath):t[e]=o:"replace"===r?t[e]=o:"remove"===r&&a&&(t[e]=null)}(r,e,n),function(t,e){if(t&&(t.hv=e.hv=[p(e,["left","right"]),p(e,["top","bottom"])],"group"===t.type)){var n=t,i=e;null==n.width&&(n.width=i.width=0),null==n.height&&(n.height=i.height=0)}}(r[e],n))}),this),n.elements=i.n(r,(function(t){return t&&delete t.$action,null!=t}))},e.prototype._flatten=function(t,e,n){i.k(t,(function(t){if(t){n&&(t.parentOption=n),e.push(t);var i=t.children;i&&i.length&&this._flatten(i,e,t),delete t.children}}),this)},e.prototype.useElOptionsToUpdate=function(){var t=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,t},e.type="graphic",e.defaultOption={elements:[]},e}(r.a),f=n(63),g=n(47),d=n(77),v=n(84),m=n(13),y=n(7),O=n(38),b=n(17),x=n(217),j=n(134),_=n(36),w=n(228),C={path:null,compoundPath:null,group:g.a,image:d.a,text:v.a},k=a.o(),I=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(o.a)(e,t),e.prototype.init=function(){this._elMap=i.f()},e.prototype.render=function(t,e,n){t!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=t,this._updateElements(t),this._relocate(t,n)},e.prototype._updateElements=function(t){var e=t.useElOptionsToUpdate();if(e){var n=this._elMap,o=this.group,r=t.get("z"),p=t.get("zlevel");i.k(e,(function(e){var c=a.e(e.id,null),u=null!=c?n.get(c):null,s=a.e(e.parentId,null),h=null!=s?n.get(s):o,f=e.type,g=e.style;"text"===f&&g&&e.hv&&e.hv[1]&&(g.textVerticalAlign=g.textBaseline=g.verticalAlign=g.align=null);var d=e.textContent,y=e.textConfig;if(g&&Object(x.c)(g,f,!!y,!!d)){var O=Object(x.a)(g,f,!0);!y&&O.textConfig&&(y=e.textConfig=O.textConfig),!d&&O.textContent&&(d=O.textContent)}var _=function(t){return t=i.m({},t),i.k(["id","parentId","$action","hv","bounding","textContent","clipPath"].concat(l.a),(function(e){delete t[e]})),t}(e);var C=e.$action||"merge",I="merge"===C,z="replace"===C;if(I){var U=u;(F=!u)?U=M(c,h,e.type,n):(U&&(k(U).isNew=!1),Object(w.b)(U)),U&&(Object(j.c)(U,_,t,{isInit:F}),A(U,e,r,p))}else if(z){P(u,e,n,t);var G=M(c,h,e.type,n);G&&(Object(j.c)(G,_,t,{isInit:!0}),A(G,e,r,p))}else"remove"===C&&(Object(j.e)(u,e),P(u,e,n,t));var q=n.get(c);if(q&&d)if(I){var E=q.getTextContent();E?E.attr(d):q.setTextContent(new v.a(d))}else z&&q.setTextContent(new v.a(d));if(q){var N=e.clipPath;if(N){var $=N.type,D=void 0,F=!1;if(I){var J=q.getClipPath();D=(F=!J||k(J).type!==$)?T($):J}else z&&(F=!0,D=T($));q.setClipPath(D),Object(j.c)(D,N,t,{isInit:F}),Object(w.a)(D,N.keyframeAnimation,t)}var S=k(q);q.setTextConfig(y),S.option=e,function(t,e,n){var i=Object(b.a)(t).eventData;t.silent||t.ignore||i||(i=Object(b.a)(t).eventData={componentType:"graphic",componentIndex:e.componentIndex,name:t.name});i&&(i.info=n.info)}(q,t,e),m.setTooltipConfig({el:q,componentModel:t,itemName:q.name,itemTooltipOption:e.tooltip}),Object(w.a)(q,e.keyframeAnimation,t)}}))}},e.prototype._relocate=function(t,e){for(var n=t.option.elements,o=this.group,r=this._elMap,p=e.getWidth(),c=e.getHeight(),u=["x","y"],s=0;s<n.length;s++){var h=n[s];if((m=null!=(v=a.e(h.id,null))?r.get(v):null)&&m.isGroup){var f=(O=m.parent)===o,g=k(m),d=k(O);g.width=Object(y.o)(g.option.width,f?p:d.width)||0,g.height=Object(y.o)(g.option.height,f?c:d.height)||0}}for(s=n.length-1;s>=0;s--){var v,m;h=n[s];if(m=null!=(v=a.e(h.id,null))?r.get(v):null){var O=m.parent,b=(d=k(O),O===o?{width:p,height:c}:{width:d.width,height:d.height}),x={},w=l.i(m,h,b,null,{hv:h.hv,boundingMode:h.bounding},x);if(!k(m).isNew&&w){for(var C=h.transition,I={},T=0;T<u.length;T++){var M=u[T],P=x[M];C&&(Object(j.d)(C)||i.r(C,M)>=0)?I[M]=P:m[M]=P}Object(_.h)(m,I,t,0)}else m.attr(x)}}},e.prototype._clear=function(){var t=this,e=this._elMap;e.each((function(n){P(n,k(n).option,e,t._lastGraphicModel)})),this._elMap=i.f()},e.prototype.dispose=function(){this._clear()},e.type="graphic",e}(O.a);function T(t){var e=new(i.q(C,t)?C[t]:m.getShapeClass(t))({});return k(e).type=t,e}function M(t,e,n,i){var o=T(n);return e.add(o),i.set(t,o),k(o).id=t,k(o).isNew=!0,o}function P(t,e,n,i){t&&t.parent&&("group"===t.type&&t.traverse((function(t){P(t,e,n,i)})),Object(j.b)(t,e,i),n.removeKey(k(t).id))}function A(t,e,n,o){t.isGroup||i.k([["cursor",f.c.prototype.cursor],["zlevel",o||0],["z",n||0],["z2",0]],(function(n){var o=n[0];i.q(e,o)?t[o]=i.P(e[o],n[1]):null==t[o]&&(t[o]=n[1])})),i.k(i.F(e),(function(n){if(0===n.indexOf("on")){var o=e[n];t[n]=i.w(o)?o:null}})),i.q(e,"draggable")&&(t.draggable=e.draggable),null!=e.name&&(t.name=e.name),null!=e.id&&(t.id=e.id)}function z(t){t.registerComponentModel(h),t.registerComponentView(I),t.registerPreprocessor((function(t){var e=t.graphic;Object(i.t)(e)?e[0]&&e[0].elements?t.graphic=[t.graphic[0]]:t.graphic=[{elements:e}]:e&&!e.elements&&(t.graphic=[{elements:[e]}])}))}}}]);