(this["webpackJsonpant-design-fake"]=this["webpackJsonpant-design-fake"]||[]).push([[51],{2249:function(e,t,o){"use strict";o.d(t,"a",(function(){return q}));var n=o(6),i=o(2),r=o(46),a=o(35),l=o(418),d=o(17),s=o(188),u=o(18);function h(e,t){var o=e.isExpand?e.children:[],n=e.parentNode.children,i=e.hierNode.i?n[e.hierNode.i-1]:null;if(o.length){!function(e){var t=e.children,o=t.length,n=0,i=0;for(;--o>=0;){var r=t[o];r.hierNode.prelim+=n,r.hierNode.modifier+=n,i+=r.hierNode.change,n+=r.hierNode.shift+i}}(e);var r=(o[0].hierNode.prelim+o[o.length-1].hierNode.prelim)/2;i?(e.hierNode.prelim=i.hierNode.prelim+t(e,i),e.hierNode.modifier=e.hierNode.prelim-r):e.hierNode.prelim=r}else i&&(e.hierNode.prelim=i.hierNode.prelim+t(e,i));e.parentNode.hierNode.defaultAncestor=function(e,t,o,n){if(t){for(var i=e,r=e,a=r.parentNode.children[0],l=t,d=i.hierNode.modifier,s=r.hierNode.modifier,u=a.hierNode.modifier,h=l.hierNode.modifier;l=f(l),r=y(r),l&&r;){i=f(i),a=y(a),i.hierNode.ancestor=e;var c=l.hierNode.prelim+h-r.hierNode.prelim-s+n(l,r);c>0&&(m(v(l,e,o),e,c),s+=c,d+=c),h+=l.hierNode.modifier,s+=r.hierNode.modifier,d+=i.hierNode.modifier,u+=a.hierNode.modifier}l&&!f(i)&&(i.hierNode.thread=l,i.hierNode.modifier+=h-d),r&&!y(a)&&(a.hierNode.thread=r,a.hierNode.modifier+=s-u,o=e)}return o}(e,i,e.parentNode.hierNode.defaultAncestor||n[0],t)}function c(e){var t=e.hierNode.prelim+e.parentNode.hierNode.modifier;e.setLayout({x:t},!0),e.hierNode.modifier+=e.parentNode.hierNode.modifier}function p(e){return arguments.length?e:x}function g(e,t){return e-=Math.PI/2,{x:t*Math.cos(e),y:t*Math.sin(e)}}function f(e){var t=e.children;return t.length&&e.isExpand?t[t.length-1]:e.hierNode.thread}function y(e){var t=e.children;return t.length&&e.isExpand?t[0]:e.hierNode.thread}function v(e,t,o){return e.hierNode.ancestor.parentNode===t.parentNode?e.hierNode.ancestor:o}function m(e,t,o){var n=o/(t.hierNode.i-e.hierNode.i);t.hierNode.change-=n,t.hierNode.shift+=o,t.hierNode.modifier+=o,t.hierNode.prelim+=o,e.hierNode.change+=n}function x(e,t){return e.parentNode===t.parentNode?1:2}var b=o(138),w=o(191),N=o(197),I=o(165),_=o(208),O=o(7),L=o(29),S=o(21),M=o(12),j=function(){this.parentPoint=[],this.childPoints=[]},T=function(e){function t(t){return e.call(this,t)||this}return Object(n.a)(t,e),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new j},t.prototype.buildPath=function(e,t){var o=t.childPoints,n=o.length,i=t.parentPoint,r=o[0],a=o[n-1];if(1===n)return e.moveTo(i[0],i[1]),void e.lineTo(r[0],r[1]);var l=t.orient,d="TB"===l||"BT"===l?0:1,s=1-d,u=Object(O.o)(t.forkPosition,1),h=[];h[d]=i[d],h[s]=i[s]+(a[s]-i[s])*u,e.moveTo(i[0],i[1]),e.lineTo(h[0],h[1]),e.moveTo(r[0],r[1]),h[d]=r[d],e.lineTo(h[0],h[1]),h[d]=a[d],e.lineTo(h[0],h[1]),e.lineTo(a[0],a[1]);for(var c=1;c<n-1;c++){var p=o[c];e.moveTo(p[0],p[1]),h[d]=p[d],e.lineTo(h[0],h[1])}},t}(S.b);function D(e,t){var o=e.getItemLayout(t);return o&&!isNaN(o.x)&&!isNaN(o.y)}function R(e,t,o,n,r){var u=!o,h=e.tree.getNodeByDataIndex(t),c=h.getModel(),p=h.getVisual("style").fill,g=!1===h.isExpand&&0!==h.children.length?p:"#fff",f=e.tree.root,y=h.parentNode===f?h:h.parentNode||h,v=e.getItemGraphicEl(y.dataIndex),m=y.getLayout(),x=v?{x:v.__oldX,y:v.__oldY,rawX:v.__radialOldRawX,rawY:v.__radialOldRawY}:m,b=h.getLayout();u?((o=new s.a(e,t,null,{symbolInnerColor:g,useNameLabel:!0})).x=x.x,o.y=x.y):o.updateData(e,t,null,{symbolInnerColor:g,useNameLabel:!0}),o.__radialOldRawX=o.__radialRawX,o.__radialOldRawY=o.__radialRawY,o.__radialRawX=b.rawX,o.__radialRawY=b.rawY,n.add(o),e.setItemGraphicEl(t,o),o.__oldX=o.x,o.__oldY=o.y,a.h(o,{x:b.x,y:b.y},r);var w=o.getSymbolPath();if("radial"===r.get("layout")){var N=f.children[0],I=N.getLayout(),_=N.children.length,O=void 0,L=void 0;if(b.x===I.x&&!0===h.isExpand&&N.children.length){var S={x:(N.children[0].getLayout().x+N.children[_-1].getLayout().x)/2,y:(N.children[0].getLayout().y+N.children[_-1].getLayout().y)/2};(O=Math.atan2(S.y-I.y,S.x-I.x))<0&&(O=2*Math.PI+O),(L=S.x<I.x)&&(O-=Math.PI)}else(O=Math.atan2(b.y-I.y,b.x-I.x))<0&&(O=2*Math.PI+O),0===h.children.length||0!==h.children.length&&!1===h.isExpand?(L=b.x<I.x)&&(O-=Math.PI):(L=b.x>I.x)||(O-=Math.PI);var j=L?"left":"right",D=c.getModel("label"),R=D.get("rotate"),C=R*(Math.PI/180),A=w.getTextContent();A&&(w.setTextConfig({position:D.get("position")||j,rotation:null==R?-O:C,origin:"center"}),A.setStyle("verticalAlign","middle"))}var V=c.get(["emphasis","focus"]),E="relative"===V?i.e(h.getAncestorsIndices(),h.getDescendantIndices()):"ancestor"===V?h.getAncestorsIndices():"descendant"===V?h.getDescendantIndices():null;E&&(Object(d.a)(o).focus=E),function(e,t,o,n,r,d,s,u){var h=t.getModel(),c=e.get("edgeShape"),p=e.get("layout"),g=e.getOrient(),f=e.get(["lineStyle","curveness"]),y=e.get("edgeForkPosition"),v=h.getModel("lineStyle").getLineStyle(),m=n.__edge;if("curve"===c)t.parentNode&&t.parentNode!==o&&(m||(m=n.__edge=new l.a({shape:k(p,g,f,r,r)})),a.h(m,{shape:k(p,g,f,d,s)},e));else if("polyline"===c)if("orthogonal"===p){if(t!==o&&t.children&&0!==t.children.length&&!0===t.isExpand){for(var x=t.children,b=[],w=0;w<x.length;w++){var N=x[w].getLayout();b.push([N.x,N.y])}m||(m=n.__edge=new T({shape:{parentPoint:[s.x,s.y],childPoints:[[s.x,s.y]],orient:g,forkPosition:y}})),a.h(m,{shape:{parentPoint:[s.x,s.y],childPoints:b}},e)}}else 0;m&&("polyline"!==c||t.isExpand)&&(m.useStyle(i.i({strokeNoScale:!0,fill:null},v)),Object(M.I)(m,h,"lineStyle"),Object(M.G)(m),u.add(m))}(r,h,f,o,x,m,b,n),o.__edge&&(o.onHoverStateChange=function(t){if("blur"!==t){var n=h.parentNode&&e.getItemGraphicEl(h.parentNode.dataIndex);n&&n.hoverState===M.d||Object(M.H)(o.__edge,t)}})}function C(e,t,o,n,i){var r=A(t.tree.root,e),l=r.source,d=r.sourceLayout,s=t.getItemGraphicEl(e.dataIndex);if(s){var u=t.getItemGraphicEl(l.dataIndex).__edge,h=s.__edge||(!1===l.isExpand||1===l.children.length?u:void 0),c=n.get("edgeShape"),p=n.get("layout"),g=n.get("orient"),f=n.get(["lineStyle","curveness"]);h&&("curve"===c?a.e(h,{shape:k(p,g,f,d,d),style:{opacity:0}},n,{cb:function(){o.remove(h)},removeOpt:i}):"polyline"===c&&"orthogonal"===n.get("layout")&&a.e(h,{shape:{parentPoint:[d.x,d.y],childPoints:[[d.x,d.y]]},style:{opacity:0}},n,{cb:function(){o.remove(h)},removeOpt:i}))}}function A(e,t){for(var o,n=t.parentNode===e?t:t.parentNode||t;null==(o=n.getLayout());)n=n.parentNode===e?n:n.parentNode||n;return{source:n,sourceLayout:o}}function V(e,t,o,n,i){var r=e.tree.getNodeByDataIndex(t),l=A(e.tree.root,r).sourceLayout,d={duration:i.get("animationDurationUpdate"),easing:i.get("animationEasingUpdate")};a.e(o,{x:l.x+1,y:l.y+1},i,{cb:function(){n.remove(o),e.setItemGraphicEl(t,null)},removeOpt:d}),o.fadeOut(null,e.hostModel,{fadeLabel:!0,animation:d}),r.children.forEach((function(t){C(t,e,n,i,d)})),C(r,e,n,i,d)}function k(e,t,o,n,i){var r,a,l,d,s,u,h,c;if("radial"===e){s=n.rawX,h=n.rawY,u=i.rawX,c=i.rawY;var p=g(s,h),f=g(s,h+(c-h)*o),y=g(u,c+(h-c)*o),v=g(u,c);return{x1:p.x||0,y1:p.y||0,x2:v.x||0,y2:v.y||0,cpx1:f.x||0,cpy1:f.y||0,cpx2:y.x||0,cpy2:y.y||0}}return s=n.x,h=n.y,u=i.x,c=i.y,"LR"!==t&&"RL"!==t||(r=s+(u-s)*o,a=h,l=u+(s-u)*o,d=c),"TB"!==t&&"BT"!==t||(r=s,a=h+(c-h)*o,l=u,d=c+(h-c)*o),{x1:s,y1:h,x2:u,y2:c,cpx1:r,cpy1:a,cpx2:l,cpy2:d}}var E=function(e){function t(){var o=null!==e&&e.apply(this,arguments)||this;return o.type=t.type,o._mainGroup=new r.a,o}return Object(n.a)(t,e),t.prototype.init=function(e,t){this._controller=new I.a(t.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},t.prototype.render=function(e,t,o){var n=e.getData(),i=e.layoutInfo,r=this._mainGroup;"radial"===e.get("layout")?(r.x=i.x+i.width/2,r.y=i.y+i.height/2):(r.x=i.x,r.y=i.y),this._updateViewCoordSys(e,o),this._updateController(e,t,o);var a=this._data;n.diff(a).add((function(t){D(n,t)&&R(n,t,null,r,e)})).update((function(t,o){var i=a.getItemGraphicEl(o);D(n,t)?R(n,t,i,r,e):i&&V(a,o,i,r,e)})).remove((function(t){var o=a.getItemGraphicEl(t);o&&V(a,t,o,r,e)})).execute(),this._nodeScaleRatio=e.get("nodeScaleRatio"),this._updateNodeAndLinkScale(e),!0===e.get("expandAndCollapse")&&n.eachItemGraphicEl((function(t,n){t.off("click").on("click",(function(){o.dispatchAction({type:"treeExpandAndCollapse",seriesId:e.id,dataIndex:n})}))})),this._data=n},t.prototype._updateViewCoordSys=function(e,t){var o=e.getData(),n=[];o.each((function(e){var t=o.getItemLayout(e);!t||isNaN(t.x)||isNaN(t.y)||n.push([+t.x,+t.y])}));var i=[],r=[];b.d(n,i,r);var a=this._min,l=this._max;r[0]-i[0]===0&&(i[0]=a?a[0]:i[0]-1,r[0]=l?l[0]:r[0]+1),r[1]-i[1]===0&&(i[1]=a?a[1]:i[1]-1,r[1]=l?l[1]:r[1]+1);var d=e.coordinateSystem=new w.a;d.zoomLimit=e.get("scaleLimit"),d.setBoundingRect(i[0],i[1],r[0]-i[0],r[1]-i[1]),d.setCenter(e.get("center"),t),d.setZoom(e.get("zoom")),this.group.attr({x:d.x,y:d.y,scaleX:d.scaleX,scaleY:d.scaleY}),this._min=i,this._max=r},t.prototype._updateController=function(e,t,o){var n=this,i=this._controller,r=this._controllerHost,a=this.group;i.setPointerChecker((function(t,n,i){var r=a.getBoundingRect();return r.applyTransform(a.transform),r.contain(n,i)&&!Object(_.a)(t,o,e)})),i.enable(e.get("roam")),r.zoomLimit=e.get("scaleLimit"),r.zoom=e.coordinateSystem.getZoom(),i.off("pan").off("zoom").on("pan",(function(t){N.a(r,t.dx,t.dy),o.dispatchAction({seriesId:e.id,type:"treeRoam",dx:t.dx,dy:t.dy})})).on("zoom",(function(t){N.b(r,t.scale,t.originX,t.originY),o.dispatchAction({seriesId:e.id,type:"treeRoam",zoom:t.scale,originX:t.originX,originY:t.originY}),n._updateNodeAndLinkScale(e),o.updateLabelLayout()}))},t.prototype._updateNodeAndLinkScale=function(e){var t=e.getData(),o=this._getNodeGlobalScale(e);t.eachItemGraphicEl((function(e,t){e.setSymbolScale(o)}))},t.prototype._getNodeGlobalScale=function(e){var t=e.coordinateSystem;if("view"!==t.type)return 1;var o=this._nodeScaleRatio,n=t.scaleX||1;return((t.getZoom()-1)*o+1)/n},t.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},t.prototype.remove=function(){this._mainGroup.removeAll(),this._data=null},t.type="tree",t}(L.a),P=o(30),G=o(257),B=o(37),W=o(45),z=o(91),X=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.hasSymbolVisual=!0,t.ignoreStyleOnData=!0,t}return Object(n.a)(t,e),t.prototype.getInitialData=function(e){var t={name:e.name,children:e.data},o=e.leaves||{},n=new B.a(o,this,this.ecModel),i=G.a.createTree(t,this,(function(e){e.wrapMethod("getItemModel",(function(e,t){var o=i.getNodeByDataIndex(t);return o&&o.children.length&&o.isExpand||(e.parentModel=n),e}))}));var r=0;i.eachNode("preorder",(function(e){e.depth>r&&(r=e.depth)}));var a=e.expandAndCollapse&&e.initialTreeDepth>=0?e.initialTreeDepth:r;return i.root.eachNode("preorder",(function(e){var t=e.hostTree.data.getRawDataItem(e.dataIndex);e.isExpand=t&&null!=t.collapsed?!t.collapsed:e.depth<=a})),i.data},t.prototype.getOrient=function(){var e=this.get("orient");return"horizontal"===e?e="LR":"vertical"===e&&(e="TB"),e},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.formatTooltip=function(e,t,o){for(var n=this.getData().tree,i=n.root.children[0],r=n.getNodeByDataIndex(e),a=r.getValue(),l=r.name;r&&r!==i;)l=r.parentNode.name+"."+l,r=r.parentNode;return Object(W.c)("nameValue",{name:l,value:a,noValue:isNaN(a)||null==a})},t.prototype.getDataParams=function(t){var o=e.prototype.getDataParams.apply(this,arguments),n=this.getData().tree.getNodeByDataIndex(t);return o.treeAncestors=Object(z.d)(n,this),o.collapsed=!n.isExpand,o},t.type="series.tree",t.layoutMode="box",t.defaultOption={z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderWidth:1.5},label:{show:!0},animationEasing:"linear",animationDuration:700,animationDurationUpdate:500},t}(P.b);function H(e,t){for(var o,n=[e];o=n.pop();)if(t(o),o.isExpand){var i=o.children;if(i.length)for(var r=i.length-1;r>=0;r--)n.push(i[r])}}function Y(e,t){e.eachSeriesByType("tree",(function(e){!function(e,t){var o=function(e,t){return u.g(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}(e,t);e.layoutInfo=o;var n=e.get("layout"),i=0,r=0,a=null;"radial"===n?(i=2*Math.PI,r=Math.min(o.height,o.width)/2,a=p((function(e,t){return(e.parentNode===t.parentNode?1:2)/e.depth}))):(i=o.width,r=o.height,a=p());var l=e.getData().tree.root,d=l.children[0];if(d){!function(e){var t=e;t.hierNode={defaultAncestor:null,ancestor:t,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var o,n,i=[t];o=i.pop();)if(n=o.children,o.isExpand&&n.length)for(var r=n.length-1;r>=0;r--){var a=n[r];a.hierNode={defaultAncestor:null,ancestor:a,prelim:0,modifier:0,change:0,shift:0,i:r,thread:null},i.push(a)}}(l),function(e,t,o){for(var n,i=[e],r=[];n=i.pop();)if(r.push(n),n.isExpand){var a=n.children;if(a.length)for(var l=0;l<a.length;l++)i.push(a[l])}for(;n=r.pop();)t(n,o)}(d,h,a),l.hierNode.modifier=-d.hierNode.prelim,H(d,c);var s=d,f=d,y=d;H(d,(function(e){var t=e.getLayout().x;t<s.getLayout().x&&(s=e),t>f.getLayout().x&&(f=e),e.depth>y.depth&&(y=e)}));var v=s===f?1:a(s,f)/2,m=v-s.getLayout().x,x=0,b=0,w=0,N=0;if("radial"===n)x=i/(f.getLayout().x+v+m),b=r/(y.depth-1||1),H(d,(function(e){w=(e.getLayout().x+m)*x,N=(e.depth-1)*b;var t=g(w,N);e.setLayout({x:t.x,y:t.y,rawX:w,rawY:N},!0)}));else{var I=e.getOrient();"RL"===I||"LR"===I?(b=r/(f.getLayout().x+v+m),x=i/(y.depth-1||1),H(d,(function(e){N=(e.getLayout().x+m)*b,w="LR"===I?(e.depth-1)*x:i-(e.depth-1)*x,e.setLayout({x:w,y:N},!0)}))):"TB"!==I&&"BT"!==I||(x=i/(f.getLayout().x+v+m),b=r/(y.depth-1||1),H(d,(function(e){w=(e.getLayout().x+m)*x,N="TB"===I?(e.depth-1)*b:r-(e.depth-1)*b,e.setLayout({x:w,y:N},!0)})))}}}(e,t)}))}function Z(e){e.eachSeriesByType("tree",(function(e){var t=e.getData();t.tree.eachNode((function(e){var o=e.getModel().getModel("itemStyle").getItemStyle(),n=t.ensureUniqueItemVisual(e.dataIndex,"style");Object(i.m)(n,o)}))}))}var F=o(256);function q(e){e.registerChartView(E),e.registerSeriesModel(X),e.registerLayout(Y),e.registerVisual(Z),function(e){e.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},(function(e,t){t.eachComponent({mainType:"series",subType:"tree",query:e},(function(t){var o=e.dataIndex,n=t.getData().tree.getNodeByDataIndex(o);n.isExpand=!n.isExpand}))})),e.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},(function(e,t,o){t.eachComponent({mainType:"series",subType:"tree",query:e},(function(t){var n=t.coordinateSystem,i=Object(F.a)(n,e,void 0,o);t.setCenter&&t.setCenter(i.center),t.setZoom&&t.setZoom(i.zoom)}))}))}(e)}},2252:function(e,t,o){"use strict";o.d(t,"a",(function(){return fe}));var n=o(91),i=o(2),r=["treemapZoomToNode","treemapRender","treemapMove"];var a=o(6),l=o(30),d=o(257),s=o(37),u=o(8),h=o(45),c=o(370);function p(e){var t=0;i.k(e.children,(function(e){p(e);var o=e.value;i.t(o)&&(o=o[0]),t+=o}));var o=e.value;i.t(o)&&(o=o[0]),(null==o||isNaN(o))&&(o=t),o<0&&(o=0),i.t(e.value)?e.value[0]=o:e.value=o}var g=function(e){function t(){var o=null!==e&&e.apply(this,arguments)||this;return o.type=t.type,o.preventUsingHoverLayer=!0,o}return Object(a.a)(t,e),t.prototype.getInitialData=function(e,t){var o={name:e.name,children:e.data};p(o);var n=e.levels||[],r=this.designatedVisualItemStyle={},a=new s.a({itemStyle:r},this,t);n=e.levels=function(e,t){var o,n,r=Object(u.r)(t.get("color")),a=Object(u.r)(t.get(["aria","decal","decals"]));if(!r)return;e=e||[],i.k(e,(function(e){var t=new s.a(e),i=t.get("color"),r=t.get("decal");(t.get(["itemStyle","color"])||i&&"none"!==i)&&(o=!0),(t.get(["itemStyle","decal"])||r&&"none"!==r)&&(n=!0)}));var l=e[0]||(e[0]={});o||(l.color=r.slice());!n&&a&&(l.decal=a.slice());return e}(n,t);var l=i.H(n||[],(function(e){return new s.a(e,a,t)}),this),h=d.a.createTree(o,this,(function(e){e.wrapMethod("getItemModel",(function(e,t){var o=h.getNodeByDataIndex(t),n=o?l[o.depth]:null;return e.parentModel=n||a,e}))}));return h.data},t.prototype.optionUpdated=function(){this.resetViewRoot()},t.prototype.formatTooltip=function(e,t,o){var n=this.getData(),i=this.getRawValue(e),r=n.getName(e);return Object(h.c)("nameValue",{name:r,value:i})},t.prototype.getDataParams=function(t){var o=e.prototype.getDataParams.apply(this,arguments),i=this.getData().tree.getNodeByDataIndex(t);return o.treeAncestors=Object(n.d)(i,this),o.treePathInfo=o.treeAncestors,o},t.prototype.setLayoutInfo=function(e){this.layoutInfo=this.layoutInfo||{},i.m(this.layoutInfo,e)},t.prototype.mapIdToIndex=function(e){var t=this._idIndexMap;t||(t=this._idIndexMap=i.f(),this._idIndexMapCount=0);var o=t.get(e);return null==o&&t.set(e,o=this._idIndexMapCount++),o},t.prototype.getViewRoot=function(){return this._viewRoot},t.prototype.resetViewRoot=function(e){e?this._viewRoot=e:e=this._viewRoot;var t=this.getRawData().tree.root;e&&(e===t||t.contains(e))||(this._viewRoot=t)},t.prototype.enableAriaDecal=function(){Object(c.a)(this)},t.type="series.treemap",t.layoutMode="box",t.defaultOption={progressive:0,left:"center",top:"middle",width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"\u25b6",zoomToNodeRatio:.1024,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",textStyle:{color:"#fff"}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",overflow:"truncate"},upperLabel:{show:!1,position:[0,"50%"],height:20,overflow:"truncate",verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],overflow:"truncate",verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},t}(l.b),f=o(46),y=o(74),v=o(17),m=o(12),x=o(108),b=o(186),w=o(83),N=o(18);function I(e,t,o,n,i,r){var a=[[i?e:e-5,t],[e+o,t],[e+o,t+n],[i?e:e-5,t+n]];return!r&&a.splice(2,0,[e+o+5,t+n/2]),!i&&a.push([e,t+n/2]),a}function _(e,t,o){Object(v.a)(e).eventData={componentType:"series",componentSubType:"treemap",componentIndex:t.componentIndex,seriesIndex:t.seriesIndex,seriesName:t.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:o&&o.dataIndex,name:o&&o.name},treePathInfo:o&&Object(n.d)(o,t)}}var O=function(){function e(e){this.group=new f.a,e.add(this.group)}return e.prototype.render=function(e,t,o,n){var i=e.getModel("breadcrumb"),r=this.group;if(r.removeAll(),i.get("show")&&o){var a=i.getModel("itemStyle"),l=a.getModel("textStyle"),d={pos:{left:i.get("left"),right:i.get("right"),top:i.get("top"),bottom:i.get("bottom")},box:{width:t.getWidth(),height:t.getHeight()},emptyItemWidth:i.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(o,d,l),this._renderContent(e,d,a,l,n),N.i(r,d.pos,d.box)}},e.prototype._prepare=function(e,t,o){for(var n=e;n;n=n.parentNode){var i=Object(u.e)(n.getModel().get("name"),""),r=o.getTextRect(i),a=Math.max(r.width+16,t.emptyItemWidth);t.totalWidth+=a+8,t.renderList.push({node:n,text:i,width:a})}},e.prototype._renderContent=function(e,t,o,n,r){for(var a=0,l=t.emptyItemWidth,d=e.get(["breadcrumb","height"]),s=N.e(t.pos,t.box),u=t.totalWidth,h=t.renderList,c=h.length-1;c>=0;c--){var p=h[c],g=p.node,f=p.width,y=p.text;u>s.width&&(u-=f-l,f=l,y=null);var v=new b.a({shape:{points:I(a,0,f,d,c===h.length-1,0===c)},style:Object(i.i)(o.getItemStyle(),{lineJoin:"bevel"}),textContent:new w.a({style:{text:y,fill:n.getTextColor(),font:n.getFont()}}),textConfig:{position:"inside"},z2:1e4*m.j,onclick:Object(i.h)(r,g)});v.disableLabelAnimation=!0,this.group.add(v),_(v,e,g),a+=f+8}},e.prototype.remove=function(){this.group.removeAll()},e}(),L=o(165),S=o(20),M=o(23),j=o(2056),T=o(134),D=o(29),R=o(62),C=o(38),A=o(15),V=f.a,k=y.a,E="label",P="upperLabel",G=10*m.j,B=2*m.j,W=3*m.j,z=Object(T.a)([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),X=function(e){var t=z(e);return t.stroke=t.fill=t.lineWidth=null,t},H=Object(u.o)();var Y=function(e){function t(){var o=null!==e&&e.apply(this,arguments)||this;return o.type=t.type,o._state="ready",o._storage={nodeGroup:[],background:[],content:[]},o}return Object(a.a)(t,e),t.prototype.render=function(e,t,o,r){var a=t.findComponents({mainType:"series",subType:"treemap",query:r});if(!(Object(i.r)(a,e)<0)){this.seriesModel=e,this.api=o,this.ecModel=t;var l=n.c(r,["treemapZoomToNode","treemapRootToNode"],e),d=r&&r.type,s=e.layoutInfo,u=!this._oldTree,h=this._storage,c="treemapRootToNode"===d&&l&&h?{rootNodeGroup:h.nodeGroup[l.node.getRawIndex()],direction:r.direction}:null,p=this._giveContainerGroup(s),g=e.get("animation"),f=this._doRender(p,e,c);!g||u||d&&"treemapZoomToNode"!==d&&"treemapRootToNode"!==d?f.renderFinally():this._doAnimation(p,f,e,c),this._resetController(o),this._renderBreadcrumb(e,o,l)}},t.prototype._giveContainerGroup=function(e){var t=this._containerGroup;return t||(t=this._containerGroup=new V,this._initEvents(t),this.group.add(t)),t.x=e.x,t.y=e.y,t},t.prototype._doRender=function(e,t,o){var n=t.getData().tree,r=this._oldTree,a={nodeGroup:[],background:[],content:[]},l={nodeGroup:[],background:[],content:[]},d=this._storage,s=[];function h(e,n,r,h){return function(e,t,o,n,r,a,l,d,s,h){if(!l)return;var c=l.getLayout(),p=e.getData(),g=l.getModel();if(p.setItemGraphicEl(l.dataIndex,null),!c||!c.isInView)return;var y=c.width,x=c.height,b=c.borderWidth,w=c.invisible,N=l.getRawIndex(),I=d&&d.getRawIndex(),_=l.viewChildren,O=c.upperHeight,L=_&&_.length,S=g.getModel("itemStyle"),M=g.getModel(["emphasis","itemStyle"]),j=g.getModel(["blur","itemStyle"]),T=g.getModel(["select","itemStyle"]),D=S.get("borderRadius")||0,C=ne("nodeGroup",V);if(!C)return;if(s.add(C),C.x=c.x||0,C.y=c.y||0,C.markRedraw(),H(C).nodeWidth=y,H(C).nodeHeight=x,c.isAboveViewRoot)return C;var Y=ne("background",k,h,B);Y&&Q(C,Y,L&&c.upperLabelHeight);var Z=g.getModel("emphasis"),F=Z.get("focus"),q=Z.get("blurScope"),U=Z.get("disabled"),J="ancestor"===F?l.getAncestorsIndices():"descendant"===F?l.getDescendantIndices():F;if(L)Object(m.y)(C)&&Object(m.F)(C,!1),Y&&(Object(m.F)(Y,!U),p.setItemGraphicEl(l.dataIndex,Y),Object(m.p)(Y,J,q));else{var K=ne("content",k,h,W);K&&$(C,K),Y.disableMorphing=!0,Y&&Object(m.y)(Y)&&Object(m.F)(Y,!1),Object(m.F)(C,!U),p.setItemGraphicEl(l.dataIndex,C),Object(m.p)(C,J,q)}return C;function Q(t,o,n){var i=Object(v.a)(o);if(i.dataIndex=l.dataIndex,i.seriesIndex=e.seriesIndex,o.setShape({x:0,y:0,width:y,height:x,r:D}),w)ee(o);else{o.invisible=!1;var r=l.getVisual("style"),a=r.stroke,d=X(S);d.fill=a;var s=z(M);s.fill=M.get("borderColor");var u=z(j);u.fill=j.get("borderColor");var h=z(T);if(h.fill=T.get("borderColor"),n){var c=y-2*b;te(o,a,r.opacity,{x:b,y:0,width:c,height:O})}else o.removeTextContent();o.setStyle(d),o.ensureState("emphasis").style=s,o.ensureState("blur").style=u,o.ensureState("select").style=h,Object(m.G)(o)}t.add(o)}function $(t,o){var n=Object(v.a)(o);n.dataIndex=l.dataIndex,n.seriesIndex=e.seriesIndex;var i=Math.max(y-2*b,0),r=Math.max(x-2*b,0);if(o.culling=!0,o.setShape({x:b,y:b,width:i,height:r,r:D}),w)ee(o);else{o.invisible=!1;var a=l.getVisual("style"),d=a.fill,s=X(S);s.fill=d,s.decal=a.decal;var u=z(M),h=z(j),c=z(T);te(o,d,a.opacity,null),o.setStyle(s),o.ensureState("emphasis").style=u,o.ensureState("blur").style=h,o.ensureState("select").style=c,Object(m.G)(o)}t.add(o)}function ee(e){!e.invisible&&a.push(e)}function te(t,o,n,r){var a=g.getModel(r?P:E),d=Object(u.e)(g.get("name"),null),s=a.getShallow("show");Object(A.g)(t,Object(A.e)(g,r?P:E),{defaultText:s?d:null,inheritColor:o,defaultOpacity:n,labelFetcher:e,labelDataIndex:l.dataIndex});var h=t.getTextContent();if(h){var p=h.style,f=Object(i.M)(p.padding||0);r&&(t.setTextConfig({layoutRect:r}),h.disableLabelLayout=!0),h.beforeUpdate=function(){var e=Math.max((r?r.width:t.shape.width)-f[1]-f[3],0),o=Math.max((r?r.height:t.shape.height)-f[0]-f[2],0);p.width===e&&p.height===o||h.setStyle({width:e,height:o})},p.truncateMinChar=2,p.lineOverflow="truncate",oe(p,r,c);var y=h.getState("emphasis");oe(y?y.style:null,r,c)}}function oe(t,o,n){var i=t?t.text:null;if(!o&&n.isLeafRoot&&null!=i){var r=e.get("drillDownIcon",!0);t.text=r?r+" "+i:i}}function ne(e,n,i,a){var l=null!=I&&o[e][I],d=r[e];return l?(o[e][I]=null,ie(d,l)):w||((l=new n)instanceof R.c&&(l.z2=function(e,t){return e*G+t}(i,a)),re(d,l)),t[e][N]=l}function ie(e,t){var o=e[N]={};t instanceof V?(o.oldX=t.x,o.oldY=t.y):o.oldShape=Object(i.m)({},t.shape)}function re(e,t){var o=e[N]={},i=l.parentNode,a=t instanceof f.a;if(i&&(!n||"drillDown"===n.direction)){var d=0,s=0,u=r.background[i.getRawIndex()];!n&&u&&u.oldShape&&(d=u.oldShape.width,s=u.oldShape.height),a?(o.oldX=0,o.oldY=s):o.oldShape={x:d,y:s,width:0,height:0}}o.fadein=!a}}(t,l,d,o,a,s,e,n,r,h)}!function e(t,o,n,r,a){r?(o=t,Object(i.k)(t,(function(e,t){!e.isRemoved()&&d(t,t)}))):new x.a(o,t,l,l).add(d).update(d).remove(Object(i.h)(d,null)).execute();function l(e){return e.getId()}function d(i,l){var d=null!=i?t[i]:null,s=null!=l?o[l]:null,u=h(d,s,n,a);u&&e(d&&d.viewChildren||[],s&&s.viewChildren||[],u,r,a+1)}}(n.root?[n.root]:[],r&&r.root?[r.root]:[],e,n===r||!r,0);var c=function(e){var t={nodeGroup:[],background:[],content:[]};return e&&Object(i.k)(e,(function(e,o){var n=t[o];Object(i.k)(e,(function(e){e&&(n.push(e),H(e).willDelete=!0)}))})),t}(d);return this._oldTree=n,this._storage=l,{lastsForAnimation:a,willDeleteEls:c,renderFinally:function(){Object(i.k)(c,(function(e){Object(i.k)(e,(function(e){e.parent&&e.parent.remove(e)}))})),Object(i.k)(s,(function(e){e.invisible=!0,e.dirty()}))}}},t.prototype._doAnimation=function(e,t,o,n){var r=o.get("animationDurationUpdate"),a=o.get("animationEasing"),l=(Object(i.w)(r)?0:r)||0,d=(Object(i.w)(a)?null:a)||"cubicOut",s=j.a();Object(i.k)(t.willDeleteEls,(function(e,t){Object(i.k)(e,(function(e,o){if(!e.invisible){var i,r=e.parent,a=H(r);if(n&&"drillDown"===n.direction)i=r===n.rootNodeGroup?{shape:{x:0,y:0,width:a.nodeWidth,height:a.nodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var u=0,h=0;a.willDelete||(u=a.nodeWidth/2,h=a.nodeHeight/2),i="nodeGroup"===t?{x:u,y:h,style:{opacity:0}}:{shape:{x:u,y:h,width:0,height:0},style:{opacity:0}}}i&&s.add(e,i,l,0,d)}}))})),Object(i.k)(this._storage,(function(e,o){Object(i.k)(e,(function(e,n){var r=t.lastsForAnimation[o][n],a={};r&&(e instanceof f.a?null!=r.oldX&&(a.x=e.x,a.y=e.y,e.x=r.oldX,e.y=r.oldY):(r.oldShape&&(a.shape=Object(i.m)({},e.shape),e.setShape(r.oldShape)),r.fadein?(e.setStyle("opacity",0),a.style={opacity:1}):1!==e.style.opacity&&(a.style={opacity:1})),s.add(e,a,l,0,d))}))}),this),this._state="animating",s.finished(Object(i.c)((function(){this._state="ready",t.renderFinally()}),this)).start()},t.prototype._resetController=function(e){var t=this._controller;t||((t=this._controller=new L.a(e.getZr())).enable(this.seriesModel.get("roam")),t.on("pan",Object(i.c)(this._onPan,this)),t.on("zoom",Object(i.c)(this._onZoom,this)));var o=new S.a(0,0,e.getWidth(),e.getHeight());t.setPointerChecker((function(e,t,n){return o.contain(t,n)}))},t.prototype._clearController=function(){var e=this._controller;e&&(e.dispose(),e=null)},t.prototype._onPan=function(e){if("animating"!==this._state&&(Math.abs(e.dx)>3||Math.abs(e.dy)>3)){var t=this.seriesModel.getData().tree.root;if(!t)return;var o=t.getLayout();if(!o)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:o.x+e.dx,y:o.y+e.dy,width:o.width,height:o.height}})}},t.prototype._onZoom=function(e){var t=e.originX,o=e.originY;if("animating"!==this._state){var n=this.seriesModel.getData().tree.root;if(!n)return;var i=n.getLayout();if(!i)return;var r=new S.a(i.x,i.y,i.width,i.height),a=this.seriesModel.layoutInfo;t-=a.x,o-=a.y;var l=M.c();M.i(l,l,[-t,-o]),M.h(l,l,[e.scale,e.scale]),M.i(l,l,[t,o]),r.applyTransform(l),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:r.x,y:r.y,width:r.width,height:r.height}})}},t.prototype._initEvents=function(e){var t=this;e.on("click",(function(e){if("ready"===t._state){var o=t.seriesModel.get("nodeClick",!0);if(o){var n=t.findTarget(e.offsetX,e.offsetY);if(n){var i=n.node;if(i.getLayout().isLeafRoot)t._rootToNode(n);else if("zoomToNode"===o)t._zoomToNode(n);else if("link"===o){var r=i.hostTree.data.getItemModel(i.dataIndex),a=r.get("link",!0),l=r.get("target",!0)||"blank";a&&Object(C.j)(a,l)}}}}}),this)},t.prototype._renderBreadcrumb=function(e,t,o){var i=this;o||(o=null!=e.get("leafDepth",!0)?{node:e.getViewRoot()}:this.findTarget(t.getWidth()/2,t.getHeight()/2))||(o={node:e.getData().tree.root}),(this._breadcrumb||(this._breadcrumb=new O(this.group))).render(e,t,o.node,(function(t){"animating"!==i._state&&(n.a(e.getViewRoot(),t)?i._rootToNode({node:t}):i._zoomToNode({node:t}))}))},t.prototype.remove=function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage={nodeGroup:[],background:[],content:[]},this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},t.prototype.dispose=function(){this._clearController()},t.prototype._zoomToNode=function(e){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},t.prototype._rootToNode=function(e){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},t.prototype.findTarget=function(e,t){var o;return this.seriesModel.getViewRoot().eachNode({attr:"viewChildren",order:"preorder"},(function(n){var i=this._storage.background[n.getRawIndex()];if(i){var r=i.transformCoordToLocal(e,t),a=i.shape;if(!(a.x<=r[0]&&r[0]<=a.x+a.width&&a.y<=r[1]&&r[1]<=a.y+a.height))return!1;o={node:n,offsetX:r[0],offsetY:r[1]}}}),this),o},t.type="treemap",t}(D.a),Z=o(76),F=o(43),q=Object(u.o)(),U={seriesType:"treemap",reset:function(e){var t=e.getData().tree.root;t.isRemoved()||J(t,{},e.getViewRoot().getAncestors(),e)}};function J(e,t,o,n){var r=e.getModel(),a=e.getLayout(),l=e.hostTree.data;if(a&&!a.invisible&&a.isInView){var d,s=r.getModel("itemStyle"),u=function(e,t,o){var n=Object(i.m)({},t),r=o.designatedVisualItemStyle;return Object(i.k)(["color","colorAlpha","colorSaturation"],(function(o){r[o]=t[o];var i=e.get(o);r[o]=null,null!=i&&(n[o]=i)})),n}(s,t,n),h=l.ensureUniqueItemVisual(e.dataIndex,"style"),c=s.get("borderColor"),p=s.get("borderColorSaturation");null!=p&&(c=function(e,t){return null!=t?Object(F.f)(t,null,null,e):null}(p,d=K(u))),h.stroke=c;var g=e.viewChildren;if(g&&g.length){var f=function(e,t,o,n,i,r){if(!r||!r.length)return;var a=$(t,"color")||null!=i.color&&"none"!==i.color&&($(t,"colorAlpha")||$(t,"colorSaturation"));if(!a)return;var l=t.get("visualMin"),d=t.get("visualMax"),s=o.dataExtent.slice();null!=l&&l<s[0]&&(s[0]=l),null!=d&&d>s[1]&&(s[1]=d);var u=t.get("colorMappingBy"),h={type:a.name,dataExtent:s,visual:a.range};"color"!==h.type||"index"!==u&&"id"!==u?h.mappingMethod="linear":(h.mappingMethod="category",h.loop=!0);var c=new Z.a(h);return q(c).drColorMappingBy=u,c}(0,r,a,0,u,g);Object(i.k)(g,(function(e,t){if(e.depth>=o.length||e===o[e.depth]){var a=function(e,t,o,n,r,a){var l=Object(i.m)({},t);if(r){var d=r.type,s="color"===d&&q(r).drColorMappingBy,u="index"===s?n:"id"===s?a.mapIdToIndex(o.getId()):o.getValue(e.get("visualDimension"));l[d]=r.mapValueToVisual(u)}return l}(r,u,e,t,f,n);J(e,a,o,n)}}))}else d=K(u),h.fill=d}}function K(e){var t=Q(e,"color");if(t){var o=Q(e,"colorAlpha"),n=Q(e,"colorSaturation");return n&&(t=Object(F.f)(t,null,null,n)),o&&(t=Object(F.e)(t,o)),t}}function Q(e,t){var o=e[t];if(null!=o&&"none"!==o)return o}function $(e,t){var o=e.get(t);return Object(i.t)(o)&&o.length?{name:t,range:o}:null}var ee=o(7),te=Math.max,oe=Math.min,ne=i.O,ie=i.k,re=["itemStyle","borderWidth"],ae=["itemStyle","gapWidth"],le=["upperLabel","show"],de=["upperLabel","height"],se={seriesType:"treemap",reset:function(e,t,o,r){var a=o.getWidth(),l=o.getHeight(),d=e.option,s=N.g(e.getBoxLayoutParams(),{width:o.getWidth(),height:o.getHeight()}),u=d.size||[],h=Object(ee.o)(ne(s.width,u[0]),a),c=Object(ee.o)(ne(s.height,u[1]),l),p=r&&r.type,g=n.c(r,["treemapZoomToNode","treemapRootToNode"],e),f="treemapRender"===p||"treemapMove"===p?r.rootRect:null,y=e.getViewRoot(),v=n.b(y);if("treemapMove"!==p){var m="treemapZoomToNode"===p?function(e,t,o,n,i){var r,a=(t||{}).node,l=[n,i];if(!a||a===o)return l;var d=n*i,s=d*e.option.zoomToNodeRatio;for(;r=a.parentNode;){for(var u=0,h=r.children,c=0,p=h.length;c<p;c++)u+=h[c].getValue();var g=a.getValue();if(0===g)return l;s*=u/g;var f=r.getModel(),y=f.get(re);(s+=4*y*y+(3*y+Math.max(y,ge(f)))*Math.pow(s,.5))>ee.a&&(s=ee.a),a=r}s<d&&(s=d);var v=Math.pow(s/d,.5);return[n*v,i*v]}(e,g,y,h,c):f?[f.width,f.height]:[h,c],x=d.sort;x&&"asc"!==x&&"desc"!==x&&(x="desc");var b={squareRatio:d.squareRatio,sort:x,leafDepth:d.leafDepth};y.hostTree.clearLayouts();var w={x:0,y:0,width:m[0],height:m[1],area:m[0]*m[1]};y.setLayout(w),ue(y,b,!1,0),w=y.getLayout(),ie(v,(function(e,t){var o=(v[t+1]||y).getValue();e.setLayout(i.m({dataExtent:[o,o],borderWidth:0,upperHeight:0},w))}))}var I=e.getData().tree.root;I.setLayout(function(e,t,o){if(t)return{x:t.x,y:t.y};var n={x:0,y:0};if(!o)return n;var i=o.node,r=i.getLayout();if(!r)return n;var a=[r.width/2,r.height/2],l=i;for(;l;){var d=l.getLayout();a[0]+=d.x,a[1]+=d.y,l=l.parentNode}return{x:e.width/2-a[0],y:e.height/2-a[1]}}(s,f,g),!0),e.setLayoutInfo(s),pe(I,new S.a(-s.x,-s.y,a,l),v,y,0)}};function ue(e,t,o,n){var r,a;if(!e.isRemoved()){var l=e.getLayout();r=l.width,a=l.height;var d=e.getModel(),s=d.get(re),u=d.get(ae)/2,h=ge(d),c=Math.max(s,h),p=s-u,g=c-u;e.setLayout({borderWidth:s,upperHeight:c,upperLabelHeight:h},!0);var f=(r=te(r-2*p,0))*(a=te(a-p-g,0)),y=function(e,t,o,n,r,a){var l=e.children||[],d=n.sort;"asc"!==d&&"desc"!==d&&(d=null);var s=null!=n.leafDepth&&n.leafDepth<=a;if(r&&!s)return e.viewChildren=[];!function(e,t){t&&e.sort((function(e,o){var n="asc"===t?e.getValue()-o.getValue():o.getValue()-e.getValue();return 0===n?"asc"===t?e.dataIndex-o.dataIndex:o.dataIndex-e.dataIndex:n}))}(l=i.n(l,(function(e){return!e.isRemoved()})),d);var u=function(e,t,o){for(var n=0,i=0,r=t.length;i<r;i++)n+=t[i].getValue();var a,l=e.get("visualDimension");t&&t.length?"value"===l&&o?(a=[t[t.length-1].getValue(),t[0].getValue()],"asc"===o&&a.reverse()):(a=[1/0,-1/0],ie(t,(function(e){var t=e.getValue(l);t<a[0]&&(a[0]=t),t>a[1]&&(a[1]=t)}))):a=[NaN,NaN];return{sum:n,dataExtent:a}}(t,l,d);if(0===u.sum)return e.viewChildren=[];if(u.sum=function(e,t,o,n,i){if(!n)return o;for(var r=e.get("visibleMin"),a=i.length,l=a,d=a-1;d>=0;d--){var s=i["asc"===n?a-d-1:d].getValue();s/o*t<r&&(l=d,o-=s)}return"asc"===n?i.splice(0,a-l):i.splice(l,a-l),o}(t,o,u.sum,d,l),0===u.sum)return e.viewChildren=[];for(var h=0,c=l.length;h<c;h++){var p=l[h].getValue()/u.sum*o;l[h].setLayout({area:p})}s&&(l.length&&e.setLayout({isLeafRoot:!0},!0),l.length=0);return e.viewChildren=l,e.setLayout({dataExtent:u.dataExtent},!0),l}(e,d,f,t,o,n);if(y.length){var v={x:p,y:g,width:r,height:a},m=oe(r,a),x=1/0,b=[];b.area=0;for(var w=0,N=y.length;w<N;){var I=y[w];b.push(I),b.area+=I.getLayout().area;var _=he(b,m,t.squareRatio);_<=x?(w++,x=_):(b.area-=b.pop().getLayout().area,ce(b,m,v,u,!1),m=oe(v.width,v.height),b.length=b.area=0,x=1/0)}if(b.length&&ce(b,m,v,u,!0),!o){var O=d.get("childrenVisibleMin");null!=O&&f<O&&(o=!0)}for(w=0,N=y.length;w<N;w++)ue(y[w],t,o,n+1)}}}function he(e,t,o){for(var n=0,i=1/0,r=0,a=void 0,l=e.length;r<l;r++)(a=e[r].getLayout().area)&&(a<i&&(i=a),a>n&&(n=a));var d=e.area*e.area,s=t*t*o;return d?te(s*n/d,d/(s*i)):1/0}function ce(e,t,o,n,i){var r=t===o.width?0:1,a=1-r,l=["x","y"],d=["width","height"],s=o[l[r]],u=t?e.area/t:0;(i||u>o[d[a]])&&(u=o[d[a]]);for(var h=0,c=e.length;h<c;h++){var p=e[h],g={},f=u?p.getLayout().area/u:0,y=g[d[a]]=te(u-2*n,0),v=o[l[r]]+o[d[r]]-s,m=h===c-1||v<f?v:f,x=g[d[r]]=te(m-2*n,0);g[l[a]]=o[l[a]]+oe(n,y/2),g[l[r]]=s+oe(n,x/2),s+=m,p.setLayout(g,!0)}o[l[a]]+=u,o[d[a]]-=u}function pe(e,t,o,n,i){var r=e.getLayout(),a=o[i],l=a&&a===e;if(!(a&&!l||i===o.length&&e!==n)){e.setLayout({isInView:!0,invisible:!l&&!t.intersect(r),isAboveViewRoot:l},!0);var d=new S.a(t.x-r.x,t.y-r.y,t.width,t.height);ie(e.viewChildren||[],(function(e){pe(e,d,o,n,i+1)}))}}function ge(e){return e.get(le)?e.get(de):0}function fe(e){e.registerSeriesModel(g),e.registerChartView(Y),e.registerVisual(U),e.registerLayout(se),function(e){for(var t=0;t<r.length;t++)e.registerAction({type:r[t],update:"updateView"},i.L);e.registerAction({type:"treemapRootToNode",update:"updateView"},(function(e,t){t.eachComponent({mainType:"series",subType:"treemap",query:e},(function(t,o){var i=n.c(e,["treemapZoomToNode","treemapRootToNode"],t);if(i){var r=t.getViewRoot();r&&(e.direction=n.a(r,i.node)?"rollUp":"drillDown"),t.resetViewRoot(i.node)}}))}))}(e)}},2267:function(e,t,o){"use strict";o.d(t,"a",(function(){return O}));var n=o(6),i=o(297),r=o(46),a=o(35),l=o(74),d=o(12),s=o(15),u=o(2),h=o(108);var c=function(e){function t(){var o=null!==e&&e.apply(this,arguments)||this;return o.type=t.type,o._layers=[],o}return Object(n.a)(t,e),t.prototype.render=function(e,t,o){var n=e.getData(),c=this,p=this.group,g=e.getLayerSeries(),f=n.getLayout("layoutInfo"),y=f.rect,v=f.boundaryGap;function m(e){return e.name}p.x=0,p.y=y.y+v[0];var x=new h.a(this._layersSeries||[],g,m,m),b=[];function w(t,o,u){var h=c._layers;if("remove"!==t){for(var f,y,v=[],m=[],x=g[o].indices,w=0;w<x.length;w++){var N=n.getItemLayout(x[w]),I=N.x,_=N.y0,O=N.y;v.push(I,_),m.push(I,_+O),f=n.getItemVisual(x[w],"style")}var L=n.getItemLayout(x[0]),S=e.getModel("label").get("margin"),M=e.getModel("emphasis");if("add"===t){var j=b[o]=new r.a;y=new i.a({shape:{points:v,stackedOnPoints:m,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),j.add(y),p.add(j),e.isAnimationEnabled()&&y.setClipPath(function(e,t,o){var n=new l.a({shape:{x:e.x-10,y:e.y-10,width:0,height:e.height+20}});return a.c(n,{shape:{x:e.x-50,width:e.width+100,height:e.height+20}},t,o),n}(y.getBoundingRect(),e,(function(){y.removeClipPath()})))}else{j=h[u];y=j.childAt(0),p.add(j),b[o]=j,a.h(y,{shape:{points:v,stackedOnPoints:m}},e),Object(a.g)(y)}Object(s.g)(y,Object(s.e)(e),{labelDataIndex:x[w-1],defaultText:n.getName(x[w-1]),inheritColor:f.fill},{normal:{verticalAlign:"middle"}}),y.setTextConfig({position:null,local:!0});var T=y.getTextContent();T&&(T.x=L.x-S,T.y=L.y0+L.y/2),y.useStyle(f),n.setItemGraphicEl(o,y),Object(d.I)(y,e),Object(d.J)(y,M.get("focus"),M.get("blurScope"),M.get("disabled"))}else p.remove(h[o])}x.add(Object(u.c)(w,this,"add")).update(Object(u.c)(w,this,"update")).remove(Object(u.c)(w,this,"remove")).execute(),this._layersSeries=g,this._layers=b},t.type="themeRiver",t}(o(29).a),p=o(30),g=o(160),f=o(189),y=o(69),v=o(8),m=o(162),x=o(45),b=function(e){function t(){var o=null!==e&&e.apply(this,arguments)||this;return o.type=t.type,o}return Object(n.a)(t,e),t.prototype.init=function(t){e.prototype.init.apply(this,arguments),this.legendVisualProvider=new m.a(u.c(this.getData,this),u.c(this.getRawData,this))},t.prototype.fixData=function(e){var t=e.length,o={},n=Object(v.j)(e,(function(e){return o.hasOwnProperty(e[0]+"")||(o[e[0]+""]=-1),e[2]})),i=[];n.buckets.each((function(e,t){i.push({name:t,dataList:e})}));for(var r=i.length,a=0;a<r;++a){for(var l=i[a].name,d=0;d<i[a].dataList.length;++d){var s=i[a].dataList[d][0]+"";o[s]=a}for(var s in o)o.hasOwnProperty(s)&&o[s]!==a&&(o[s]=a,e[t]=[s,0,l],t++)}return e},t.prototype.getInitialData=function(e,t){for(var o=this.getReferringComponents("singleAxis",v.b).models[0].get("type"),n=u.n(e.data,(function(e){return void 0!==e[2]})),i=this.fixData(n||[]),r=[],a=this.nameMap=u.f(),l=0,d=0;d<i.length;++d)r.push(i[d][2]),a.get(i[d][2])||(a.set(i[d][2],l),l++);var s=Object(g.a)(i,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:Object(f.a)(o)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}).dimensions,h=new y.a(s,this);return h.initData(i),h},t.prototype.getLayerSeries=function(){for(var e=this.getData(),t=e.count(),o=[],n=0;n<t;++n)o[n]=n;var i=e.mapDimension("single"),r=Object(v.j)(o,(function(t){return e.get("name",t)})),a=[];return r.buckets.each((function(t,o){t.sort((function(t,o){return e.get(i,t)-e.get(i,o)})),a.push({name:o,indices:t})})),a},t.prototype.getAxisTooltipData=function(e,t,o){u.t(e)||(e=e?[e]:[]);for(var n,i=this.getData(),r=this.getLayerSeries(),a=[],l=r.length,d=0;d<l;++d){for(var s=Number.MAX_VALUE,h=-1,c=r[d].indices.length,p=0;p<c;++p){var g=i.get(e[0],r[d].indices[p]),f=Math.abs(g-t);f<=s&&(n=g,s=f,h=r[d].indices[p])}a.push(h)}return{dataIndices:a,nestestValue:n}},t.prototype.formatTooltip=function(e,t,o){var n=this.getData(),i=n.getName(e),r=n.get(n.mapDimension("value"),e);return Object(x.c)("nameValue",{name:i,value:r})},t.type="series.themeRiver",t.dependencies=["singleAxis"],t.defaultOption={z:2,colorBy:"data",coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",fontSize:11},emphasis:{label:{show:!0}}},t}(p.b),w=o(7);function N(e,t){e.eachSeriesByType("themeRiver",(function(e){var t=e.getData(),o=e.coordinateSystem,n={},i=o.getRect();n.rect=i;var r=e.get("boundaryGap"),a=o.getAxis();(n.boundaryGap=r,"horizontal"===a.orient)?(r[0]=w.o(r[0],i.height),r[1]=w.o(r[1],i.height),I(t,e,i.height-r[0]-r[1])):(r[0]=w.o(r[0],i.width),r[1]=w.o(r[1],i.width),I(t,e,i.width-r[0]-r[1]));t.setLayout("layoutInfo",n)}))}function I(e,t,o){if(e.count())for(var n,i=t.coordinateSystem,r=t.getLayerSeries(),a=e.mapDimension("single"),l=e.mapDimension("value"),d=u.H(r,(function(t){return u.H(t.indices,(function(t){var o=i.dataToPoint(e.get(a,t));return o[1]=e.get(l,t),o}))})),s=function(e){for(var t=e.length,o=e[0].length,n=[],i=[],r=0,a=0;a<o;++a){for(var l=0,d=0;d<t;++d)l+=e[d][a][1];l>r&&(r=l),n.push(l)}for(var s=0;s<o;++s)i[s]=(r-n[s])/2;r=0;for(var u=0;u<o;++u){var h=n[u]+i[u];h>r&&(r=h)}return{y0:i,max:r}}(d),h=s.y0,c=o/s.max,p=r.length,g=r[0].indices.length,f=0;f<g;++f){n=h[f]*c,e.setItemLayout(r[0].indices[f],{layerIndex:0,x:d[0][f][0],y0:n,y:d[0][f][1]*c});for(var y=1;y<p;++y)n+=d[y-1][f][1]*c,e.setItemLayout(r[y].indices[f],{layerIndex:y,x:d[y][f][0],y0:n,y:d[y][f][1]*c})}}var _=o(163);function O(e){e.registerChartView(c),e.registerSeriesModel(b),e.registerLayout(N),e.registerProcessor(Object(_.a)("themeRiver"))}}}]);